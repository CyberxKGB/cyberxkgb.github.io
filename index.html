<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>КГБ - Guardians of Bangla</title>
    <style>
        /* --- General Setup & Fonts --- */
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            font-family: 'Roboto Condensed', sans-serif;
            color: #f0f0f0;
            height: 100%;
            overflow: hidden;
            background: linear-gradient(135deg, #020412, #0A192F);
        }

        /* --- Primary Login Screen --- */
        #login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
            transition: opacity 1s ease-out;
            position: fixed;
            width: 100%;
            z-index: 2000;
        }

        .login-box {
            background: rgba(10, 10, 10, 0.75);
            padding: 40px 50px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            animation: fadeIn 1.5s ease-out;
            width: 90%;
            max-width: 400px;
        }

        .login-box h1 {
            font-size: 3em;
            color: #E5C100;
            margin-bottom: 10px;
            letter-spacing: 4px;
        }

        .login-box p {
            margin-bottom: 25px;
            color: #ccc;
        }

        .login-input {
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            color: #fff;
            font-size: 1em;
        }

        .login-input::placeholder { color: #aaa; }

        .login-button {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 5px;
            background: #B22222;
            color: #fff;
            font-weight: bold;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .login-button:hover {
            background: #DC143C;
            transform: translateY(-2px);
        }

        .login-error {
            color: #FF4747;
            margin-top: 15px;
            height: 20px;
            font-weight: bold;
        }

        /* --- Admin Login Modal --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 1500;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            position: relative;
            background: rgba(10, 10, 10, 0.9);
            padding: 30px 25px;
            border-radius: 10px;
            max-width: 400px;
            width: 100%;
            color: #f0f0f0;
        }
        
        .modal-close-btn {
            color: #aaa;
            position: absolute;
            top: 10px;
            right: 25px;
            font-size: 35px;
            font-weight: bold;
            cursor: pointer;
        }
        .modal-close-btn:hover { color: #fff; }

        /* --- Members View Modal --- */
        #members-modal {
          display: none;
          position: fixed;
          z-index: 1600;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          overflow-y: auto;
          background-color: rgba(0,0,0,0.8);
          backdrop-filter: blur(6px);
          align-items: center;
          justify-content: center;
          padding: 40px 15px;
        }
        #members-modal .modal-content {
          background: rgba(10, 10, 10, 0.9);
          border-radius: 10px;
          max-width: 900px;
          width: 100%;
          color: #f0f0f0;
          padding: 30px 25px;
          position: relative;
        }
        #members-modal .modal-close-btn {
          position: absolute;
          top: 10px;
          right: 15px;
          font-size: 32px;
          color: #ccc;
          cursor: pointer;
        }
        #members-modal .modal-close-btn:hover {
          color: white;
        }
        #members-modal h2 {
          margin-bottom: 20px;
          color: #E5C100;
          text-align: center;
        }
        #members-list {
          display: flex;
          flex-wrap: wrap;
          gap: 15px;
          justify-content: center;
        }
        #members-list .team-group {
          background: rgba(255 255 255 / 0.1);
          padding: 15px 20px;
          border-radius: 8px;
          flex: 1 1 250px;
          max-width: 280px;
          color: #eee;
        }
        #members-list .team-group h3 {
          border-bottom: 1px solid #E5C100;
          margin-bottom: 10px;
          color: #E5C100;
        }
        #members-list .team-group ul {
          padding-left: 16px;
          list-style-type: disc;
        }
        #members-list .team-group li {
          line-height: 1.4;
          margin-bottom: 6px;
        }

        /* --- Main Content (Hidden Initially) --- */
        #main-content {
            display: none;
            height: 100vh;
            overflow-y: auto;
            animation: fadeIn 2s ease-in;
        }
        
        .content-wrapper {
            max-width: 1100px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header { text-align: center; padding-bottom: 40px; }
        header h1 { font-size: 2.5em; color: #fff; }

        .card {
            background: rgba(10, 15, 44, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            margin-bottom: 30px;
            padding: 25px 30px;
            backdrop-filter: blur(5px);
        }

        .card-home { text-align: center; }
        .tagline { font-size: 1.8em; color: #E5C100; font-weight: bold; padding: 20px 0; }

        /* --- Collapsible/Accordion Section --- */
        .toggle-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding-bottom: 15px;
            border-bottom: 2px solid #B22222;
        }
        .toggle-header h2 { font-size: 2em; color: #E5C100; }
        .toggle-icon { font-size: 2em; font-weight: bold; transition: transform 0.4s ease; }
        .toggle-content { max-height: 0; overflow: hidden; transition: max-height 0.7s ease-out, padding-top 0.5s ease; padding-top: 0; }
        .toggle-content.active { padding-top: 25px; }
        .toggle-header.active .toggle-icon { transform: rotate(45deg); }
        
        /* Content, Team, and Form styles */
        .mission-content p, .mission-content li { font-size: 1.1em; line-height: 1.6; margin-bottom: 12px; }
        .mission-content h3 { font-size: 1.5em; color: #f0f0f0; margin-top: 20px; margin-bottom: 10px; }
        .mission-content ul { list-style-position: inside; padding-left: 10px; }
        .team-structure { display: flex; flex-wrap: wrap; gap: 20px; }
        .team-group { flex: 1 1 250px; background: rgba(0, 0, 0, 0.2); padding: 20px; border-radius: 6px; }
        .team-group h3 { font-size: 1.4em; padding-bottom: 10px; margin-bottom: 15px; border-bottom: 1px solid; }
        .team-group ul { list-style-type: none; padding-left: 0;}
        .team-group li { margin-bottom: 8px; font-size: 1.05em; }
        .blue h3 { border-color: #5DADE2; color: #5DADE2; }
        .green h3 { border-color: #58D68D; color: #58D68D; }
        .red h3 { border-color: #EC7063; color: #EC7063; }
        .gray h3 { border-color: #BFC9CA; color: #BFC9CA; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-group input, .form-group textarea { width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 4px; color: #fff; }
        .submit-btn { background-color: #58D68D; color: #000; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; transition: background-color 0.3s; }
        .submit-btn:hover { background-color: #82E0AA; }
        
        /* --- Application & Admin Panel --- */
        #admin-panel-locked { text-align: center; }
        #admin-panel-content { display: none; }
        .application-item { background: rgba(0,0,0,0.3); padding: 15px; border-radius: 5px; margin-bottom: 15px; border-left: 4px solid #5DADE2; }
        .application-item[data-status="Accepted"] { border-left-color: #58D68D; }
        .application-item[data-status="Denied"] { border-left-color: #EC7063; }
        .application-item h4 { margin-bottom: 5px; }
        .application-item p { margin-bottom: 10px; white-space: pre-wrap; }
        .admin-actions button { margin-right: 10px; padding: 5px 10px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; }
        .btn-accept { background: #58D68D; color: #000; }
        .btn-deny { background: #EC7063; color: #000; }
        
        /* Join/Footer */
        #join { text-align: center; }
        #join p { margin-bottom: 20px; font-size: 1.2em; }
        #join-button { text-decoration: none; background: #E5C100; color: #000; padding: 14px 40px; border-radius: 6px; font-weight: bold; font-size: 1.1em; transition: background-color 0.3s ease, transform 0.2s ease; display: inline-block; }
        #join-button:hover { background: #FFDE40; transform: translateY(-2px); }
        footer { text-align: center; padding: 40px 20px 20px 20px; color: #888; }
        
        /* Animations */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes shake {
           0% { transform: translateX(0); } 25% { transform: translateX(-5px); }
           50% { transform: translateX(5px); } 75% { transform: translateX(-5px); }
           100% { transform: translateX(0); }
        }
    </style>
</head>
<body>
    <!-- Login Container -->
    <div id="login-container" role="dialog" aria-modal="true" aria-labelledby="login-title">
        <div class="login-box">
            <h1 id="login-title">КГБ</h1>
            <p>Authorized Personnel Only</p>
            <input type="text" id="username" class="login-input" placeholder="Username" autocomplete="off" aria-label="Username" />
            <input type="password" id="password" class="login-input" placeholder="Password" autocomplete="off" aria-label="Password" />
            <button class="login-button" onclick="handleLogin()" aria-label="Access">ACCESS</button>
            <p id="login-error" class="login-error" role="alert" aria-live="assertive"></p>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="admin-login-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="admin-login-title">
        <div class="modal-content">
            <div class="login-box">
                <button class="modal-close-btn" onclick="closeAdminLoginModal()" aria-label="Close admin login">&times;</button>
                <h1 id="admin-login-title">Admin Access</h1>
                <p>Enter Command Credentials</p>
                <input type="text" id="admin-username" class="login-input" placeholder="Admin Username" autocomplete="off" aria-label="Admin Username" />
                <input type="password" id="admin-password" class="login-input" placeholder="Admin Password" autocomplete="off" aria-label="Admin Password" />
                <button class="login-button" onclick="handleAdminLogin()" aria-label="Authenticate">Authenticate</button>
                <p id="admin-login-error" class="login-error" role="alert" aria-live="assertive"></p>
            </div>
        </div>
    </div>

    <!-- Members Modal -->
    <div id="members-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="members-title" tabindex="-1">
        <div class="modal-content">
            <button class="modal-close-btn" onclick="closeMembersModal()" aria-label="Close members list">&times;</button>
            <h2 id="members-title">Honourable Members</h2>
            <div id="members-list">
                <div class="team-group blue">
                    <h3>HEAD OF COMMANDS</h3>
                    <ul>
                        <li>Taher Mohon</li>
                        <li>Md Obaidul</li>
                        <li>Imran Masum</li>
                    </ul>
                </div>
                <div class="team-group green">
                    <h3>COMMUNICATION OPERATIVES</h3>
                    <ul>
                        <li>Joy Gentleman - Head of Com.</li>
                        <li>Hasan Ahmed</li>
                        <li>Rafidh</li>
                        <li>Nehal</li>
                        <li>Ariyan Star</li>
                        <li>Simon</li>
                        <li>Zarin Ali</li>
                        <li>Mehjabin Diya</li>
                    </ul>
                </div>
                <div class="team-group red">
                    <h3>CYBER EXPERTS</h3>
                    <ul>
                        <li>Nil Blackout - Chief of Tech</li>
                        <li>Rayhan - Tech Lead</li>
                        <li>Rizwan - Acc Specialist</li>
                    </ul>
                </div>
                <div class="team-group gray">
                    <h3>INTELLIGENCE ANALYST</h3>
                    <ul>
                        <li>Life Jibon - Team Leader</li>
                        <li>Mahadi Hassan</li>
                        <li>Dinasor</li>
                        <li>Tajim</li>
                        <li>Mehu Binte</li>
                        <li>Ayat Islam</li>
                        <li>Sharu Kobita</li>
                        <li>Tanjina Perle</li>
                        <li>Samiya</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main id="main-content" tabindex="0">
        <div class="content-wrapper">
            <header>
                <h1 id="welcome-message"></h1>
            </header>

            <section class="card card-home">
                <p class="tagline">Built with honor, inspired by legacy, defended with pride.</p>
            </section>
            
            <section class="card">
                <div class="toggle-header" onclick="toggleAccordion(this)" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' ')toggleAccordion(this);">
                    <h2>What We Do</h2>
                    <span class="toggle-icon">+</span>
                </div>
                <div class="toggle-content mission-content" aria-hidden="true">
                    <h3>K.G.B. - The Knowledgable Guardians of Bangla! 🤝</h3>
                    <p>We are a dedicated group committed to keeping the Bangla community on HelloTalk safe, respectful, and welcoming. Our mission is to protect our members and foster a positive environment for learning.</p>
                    <ul>
                        <li>🛡️ <b>Protect Members:</b> We identify and report scammers, harassers, and fake profiles.</li>
                        <li>🧭 <b>Guide Newcomers:</b> We welcome newcomers and help them find genuine language partners.</li>
                        <li>💬 <b>Promote Quality Exchange:</b> We encourage meaningful conversations and discourage disrespectful behavior.</li>
                        <li>🤝 <b>Offer Support:</b> If you face any problems or feel unsafe, we are here to help you.</li>
                    </ul>

                    <h3>কে.জি.বি. - বাংলা কমিউনিটির জ্ঞানসম্পন্ন অভিভাবক! 🤝</h3>
                    <p>আমরা HelloTalk-এর বাংলা কমিউনিটিকে নিরাপদ, সম্মানজনক এবং সৌহার্দ্যপূর্ণ রাখতে প্রতিশ্রুতিবদ্ধ একটি দল। আমাদের লক্ষ্য হলো সকল সদস্যদের সুরক্ষা দেওয়া এবং শেখার জন্য একটি ইতিবাচক পরিবেশ তৈরি করা।</p>
                    <ul>
                        <li>🛡️ <b>সদস্যদের সুরক্ষা:</b> আমরা স্ক্যামার, হয়রানিকারী এবং নকল প্রোফাইল শনাক্ত করে রিপোর্ট করি।</li>
                        <li>🧭 <b>নতুনদের পথপ্রদর্শন:</b> আমরা নতুনদের সঠিক পথ দেখাই এবং আসল ভাষা সঙ্গী খুঁজে পেতে সহায়তা করি।</li>
                        <li>💬 <b>সঠিক ভাব বিনিময়:</b> আমরা অর্থপূর্ণ আলোচনাকে উৎসাহিত করি এবং অসম্মানজনক আচরণকে নিরুৎসাহিত করি।</li>
                        <li>🤝 <b>সহায়তা প্রদান:</b> আপনি কোনো সমস্যার সম্মুখীন হলে বা असुरक्षित বোধ করলে, আমরা আপনাকে সাহায্য করার জন্য আছি।</li>
                    </ul>
                </div>
            </section>

            <section class="card">
                <div class="toggle-header" onclick="toggleAccordion(this)" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' ')toggleAccordion(this);">
                    <h2>Honourable Members</h2>
                    <span class="toggle-icon">+</span>
                </div>
                <div class="toggle-content" aria-hidden="true">
                    <div class="team-structure">
                        <div class="team-group blue">
                            <h3>HEAD OF COMMANDS</h3>
                            <ul>
                                <li>Taher Mohon</li>
                                <li>Md Obaidul</li>
                                <li>Imran Masum</li>
                            </ul>
                        </div>
                        <div class="team-group green">
                            <h3>COMMUNICATION OPERATIVES</h3>
                            <ul>
                                <li>Joy Gentleman - Head of Com.</li>
                                <li>Hasan Ahmed</li>
                                <li>Rafidh</li>
                                <li>Nehal</li>
                                <li>Ariyan Star</li>
                                <li>Simon</li>
                                <li>Zarin Ali</li>
                                <li>Mehjabin Diya</li>
                            </ul>
                        </div>
                        <div class="team-group red">
                            <h3>CYBER EXPERTS</h3>
                            <ul>
                                <li>Nil Blackout - Chief of Tech</li>
                                <li>Rayhan - Tech Lead</li>
                                <li>Rizwan - Acc Specialist</li>
                            </ul>
                        </div>
                        <div class="team-group gray">
                            <h3>INTELLIGENCE ANALYST</h3>
                            <ul>
                                <li>Life Jibon - Team Leader</li>
                                <li>Mahadi Hassan</li>
                                <li>Dinasor</li>
                                <li>Tajim</li>
                                <li>Mehu Binte</li>
                                <li>Ayat Islam</li>
                                <li>Sharu Kobita</li>
                                <li>Tanjina Perle</li>
                                <li>Samiya</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="card">
                <div class="toggle-header" onclick="toggleAccordion(this)" tabindex="0" onkeydown="if(event.key==='Enter'||event.key===' ')toggleAccordion(this);">
                    <h2>Recruitment Application</h2>
                    <span class="toggle-icon">+</span>
                </div>
                <div class="toggle-content" aria-hidden="true">
                    <form id="application-form" onsubmit="submitApplication(event)">
                        <div class="form-group"><label for="appName">Your Name:</label><input type="text" id="appName" required></div>
                        <div class="form-group"><label for="appReason">Why do you want to join КГБ?</label><textarea id="appReason" rows="4" required></textarea></div>
                        <button type="submit" class="submit-btn">Submit Application</button>
                        <p id="app-success-msg" style="color: #58D68D; margin-top: 10px;"></p>
                    </form>
                </div>
            </section>

            <section class="card">
                <div id="admin-panel-locked">
                    <div class="toggle-header">
                        <h2>Application Command Center</h2>
                    </div>
                    <p style="text-align: center; padding-top: 20px;">This area is restricted. Command access required.</p>
                    <div style="text-align: center; padding-top: 20px;">
                        <button class="submit-btn" onclick="showAdminLoginModal()">Access Command Center</button>
                    </div>
                </div>
                <div id="admin-panel-content" aria-live="polite" tabindex="0">
                    <h2>Received Applications</h2>
                    <div id="application-list"></div>
                </div>
            </section>

            <section id="join" class="card">
                <h2>Join Our Force</h2>
                <p>Ready to enlist? Join our Telegram unit while your application is reviewed.</p>
                <a href="https://t.me/+2m_kXAqHPL41NDU1" id="join-button" target="_blank" rel="noopener noreferrer">Join КГБ on Telegram</a>
            </section>

            <footer>
                <p>© 2025 КГБ. All rights reserved.</p>
            </footer>
        </div>
    </main>

    <script>
        // Primary Login handling with 3 sets of credentials
        function handleLogin() {
            const user = document.getElementById('username').value.trim().toUpperCase();
            const pass = document.getElementById('password').value.trim().toUpperCase();
            const errorMsg = document.getElementById('login-error');
            
            if (user === 'KGB' && pass === 'KGB') {
                errorMsg.textContent = '';
                proceedToMain('Welcome, Comrade 🤝');
            } else if (user === 'SUPREMEKGB' && pass === 'SUPREMEKGB') {
                errorMsg.textContent = '';
                proceedToMain('Welcome, Supreme Commander 🤝');
                showAdminLoginModal();
            } else if (user === 'ULTIMATEKGB' && pass === 'ULTIMATEKGB') {
                errorMsg.textContent = '';
                proceedToMain('Welcome, Ultimate Guardian 🤝');
                openMembersModal();
            } else {
                errorMsg.textContent = 'ACCESS DENIED. Incorrect Credentials.';
                const loginBox = document.querySelector('#login-container .login-box');
                loginBox.style.animation = 'shake 0.5s';
                setTimeout(() => { loginBox.style.animation = ''; }, 500);
            }
        }

        function proceedToMain(message) {
            const loginContainer = document.getElementById('login-container');
            loginContainer.style.opacity = '0';
            setTimeout(() => {
                loginContainer.style.display = 'none';
                document.body.style.overflowY = 'auto';
                document.getElementById('main-content').style.display = 'block';
                document.getElementById('welcome-message').textContent = message;
            }, 600);
        }

        // Close modal helpers
        const adminModal = document.getElementById('admin-login-modal');
        const membersModal = document.getElementById('members-modal');

        function showAdminLoginModal() {
            adminModal.style.display = 'flex';
            clearAdminLoginFields();
        }
        function closeAdminLoginModal() {
            adminModal.style.display = 'none';
        }
        function clearAdminLoginFields() {
            document.getElementById('admin-username').value = '';
            document.getElementById('admin-password').value = '';
            document.getElementById('admin-login-error').textContent = '';
        }

        function handleAdminLogin() {
            const user = document.getElementById('admin-username').value.trim().toUpperCase();
            const pass = document.getElementById('admin-password').value.trim().toUpperCase();
            const errorMsg = document.getElementById('admin-login-error');

            if (user === 'SUPREMEKGB' && pass === 'SUPREMEKGB') {
                closeAdminLoginModal();
                document.getElementById('admin-panel-locked').style.display = 'none';
                document.getElementById('admin-panel-content').style.display = 'block';
                renderApplications();
            } else {
                errorMsg.textContent = "Authentication Failed.";
                const loginBox = document.querySelector('#admin-login-modal .login-box');
                loginBox.style.animation = 'shake 0.5s';
                setTimeout(() => { loginBox.style.animation = ''; errorMsg.textContent = ""; }, 1000);
            }
        }

        // Members modal open/close
        function openMembersModal() {
            membersModal.style.display = 'flex';
            document.body.style.overflowY = 'hidden';
        }
        function closeMembersModal() {
            membersModal.style.display = 'none';
            document.body.style.overflowY = 'auto';
        }
        // Close members modal on clicking outside content
        membersModal.addEventListener('click', (e) => {
            if (e.target === membersModal) {
                closeMembersModal();
            }
        });

        // Accordion toggle for sections
        function toggleAccordion(elem) {
            const content = elem.nextElementSibling;
            elem.classList.toggle('active');
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
                content.classList.remove('active');
                content.setAttribute('aria-hidden', 'true');
            } else {
                content.classList.add('active');
                content.style.maxHeight = content.scrollHeight + "px";
                content.setAttribute('aria-hidden', 'false');
            }
        }

        // Application submission and rendering via localStorage
        function submitApplication(e) {
            e.preventDefault();
            const name = document.getElementById('appName').value.trim();
            const reason = document.getElementById('appReason').value.trim();
            if(!name || !reason) return;

            let applications = JSON.parse(localStorage.getItem('kgbApplications')) || [];
            applications.push({
                id: Date.now(),
                name,
                reason,
                status: 'Pending',
                comments: ''
            });
            localStorage.setItem('kgbApplications', JSON.stringify(applications));

            document.getElementById('app-success-msg').textContent = 'Application submitted successfully.';
            e.target.reset();
            setTimeout(() => { document.getElementById('app-success-msg').textContent = ''; }, 4000);
        }

        function renderApplications() {
            const container = document.getElementById('application-list');
            let applications = JSON.parse(localStorage.getItem('kgbApplications')) || [];
            container.innerHTML = '';

            if(applications.length === 0) {
                container.innerHTML = '<p>No applications received yet.</p>';
                return;
            }

            applications.forEach(app => {
                const div = document.createElement('div');
                div.className = 'application-item';
                div.dataset.status = app.status;
                div.innerHTML = `
                    <h4>Applicant: ${app.name} (Status: ${app.status})</h4>
                    <p><b>Reason:</b> ${app.reason}</p>
                    <div class="form-group">
                      <label for="comment-${app.id}">Admin Comments:</label>
                      <textarea id="comment-${app.id}" rows="2" onchange="saveComment(${app.id})">${app.comments}</textarea>
                    </div>
                    <div class="admin-actions">
                      <button class="btn-accept" onclick="updateStatus(${app.id}, 'Accepted')">Accept</button>
                      <button class="btn-deny" onclick="updateStatus(${app.id}, 'Denied')">Deny</button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function updateStatus(id, status) {
            let applications = JSON.parse(localStorage.getItem('kgbApplications')) || [];
            const idx = applications.findIndex(app => app.id === id);
            if(idx !== -1) {
                applications[idx].status = status;
                localStorage.setItem('kgbApplications', JSON.stringify(applications));
                renderApplications();
            }
        }
        function saveComment(id) {
            let applications = JSON.parse(localStorage.getItem('kgbApplications')) || [];
            const idx = applications.findIndex(app => app.id === id);
            if(idx !== -1) {
                const val = document.getElementById(`comment-${id}`).value;
                applications[idx].comments = val;
                localStorage.setItem('kgbApplications', JSON.stringify(applications));
            }
        }

        // Event listeners for Enter key press on login inputs
        document.getElementById('username').addEventListener('keypress', e => { if(e.key === 'Enter') { e.preventDefault(); handleLogin(); } });
        document.getElementById('password').addEventListener('keypress', e => { if(e.key === 'Enter') { e.preventDefault(); handleLogin(); } });
        document.getElementById('admin-username').addEventListener('keypress', e => { if(e.key === 'Enter') { e.preventDefault(); handleAdminLogin(); } });
        document.getElementById('admin-password').addEventListener('keypress', e => { if(e.key === 'Enter') { e.preventDefault(); handleAdminLogin(); } });
    </script>
</body>
</html>

